{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { NextResponse, type NextRequest } from \"next/server\"\n\nconst protectedPaths = [\"/dashboard\", \"/profile\", \"/game\"]\n\nfunction isProtectedPath(pathname: string) {\n  return protectedPaths.some(\n    (p) => pathname === p || pathname.startsWith(p + \"/\")\n  )\n}\n\nexport async function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl\n  let response = NextResponse.next({ request })\n\n  const supabase = createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return request.cookies.getAll()\n        },\n        setAll(cookiesToSet) {\n          cookiesToSet.forEach(({ name, value, options }) =>\n            response.cookies.set(name, value, options)\n          )\n        }\n      }\n    }\n  )\n\n  const {\n    data: { user }\n  } = await supabase.auth.getUser()\n\n  if (isProtectedPath(pathname) && !user) {\n    const url = request.nextUrl.clone()\n    url.pathname = \"/login\"\n    url.searchParams.set(\"next\", pathname)\n    return Response.redirect(url)\n  }\n\n  if ((pathname === \"/\" || pathname === \"/login\") && user) {\n    const url = request.nextUrl.clone()\n    url.pathname = \"/dashboard\"\n    return Response.redirect(url)\n  }\n\n  return response\n}\n\nexport const config = {\n  matcher: [\n    \"/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\"\n  ]\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IAAC;IAAc;IAAY;CAAQ;AAE1D,SAAS,gBAAgB,QAAgB;IACvC,OAAO,eAAe,IAAI,CACxB,CAAC,IAAM,aAAa,KAAK,SAAS,UAAU,CAAC,IAAI;AAErD;AAEO,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,IAAI,WAAW,gMAAY,CAAC,IAAI,CAAC;QAAE;IAAQ;IAE3C,MAAM,WAAW,IAAA,uMAAkB,oKAGjC;QACE,SAAS;YACP;gBACE,OAAO,QAAQ,OAAO,CAAC,MAAM;YAC/B;YACA,QAAO,YAAY;gBACjB,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;YAEtC;QACF;IACF;IAGF,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,IAAI,gBAAgB,aAAa,CAAC,MAAM;QACtC,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ;QAC7B,OAAO,SAAS,QAAQ,CAAC;IAC3B;IAEA,IAAI,CAAC,aAAa,OAAO,aAAa,QAAQ,KAAK,MAAM;QACvD,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,OAAO,SAAS,QAAQ,CAAC;IAC3B;IAEA,OAAO;AACT;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;KACD;AACH"}}]
}