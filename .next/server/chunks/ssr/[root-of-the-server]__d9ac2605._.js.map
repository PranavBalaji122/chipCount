{"version":3,"sources":["../../../../components/ui/card.tsx","../../../../components/net-profit-chart.tsx/__nextjs-internal-proxy.mjs","../../../../components/net-profit-graph.tsx","../../../../components/profile-form.tsx/__nextjs-internal-proxy.mjs","../../../../app/profile/page.tsx","../../../../components/net-profit-block.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"text-xl leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NetProfitChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call NetProfitChart() from the server but NetProfitChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/net-profit-chart.tsx\",\n    \"NetProfitChart\",\n);\n","import { createClient } from \"@/lib/supabase/server\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { NetProfitChart } from \"./net-profit-chart\"\n\nexport async function NetProfitGraph({ userId }: { userId: string }) {\n  const supabase = await createClient()\n  const { data: rows } = await supabase\n    .from(\"game_profit_history\")\n    .select(\"profit_delta, recorded_at\")\n    .eq(\"user_id\", userId)\n    .order(\"recorded_at\", { ascending: true })\n\n  if (!rows?.length) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Net profit over time</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-muted-foreground text-sm\">No game history yet.</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  let running = 0\n  const points = rows.map((r) => {\n    running += Number(r.profit_delta)\n    return {\n      at: new Date(r.recorded_at).toLocaleDateString(undefined, {\n        month: \"short\",\n        day: \"numeric\"\n      }),\n      net: running\n    }\n  })\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-base\">Net profit over time</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <NetProfitChart points={points} />\n      </CardContent>\n    </Card>\n  )\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProfileForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProfileForm() from the server but ProfileForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/profile-form.tsx\",\n    \"ProfileForm\",\n);\n","import { createClient } from \"@/lib/supabase/server\"\nimport { redirect } from \"next/navigation\"\nimport { ProfileForm } from \"@/components/profile-form\"\nimport { NetProfitBlock } from \"@/components/net-profit-block\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\n\nexport default async function ProfilePage() {\n  const supabase = await createClient()\n  const {\n    data: { user }\n  } = await supabase.auth.getUser()\n  if (!user) redirect(\"/login\")\n\n  const { data: profile } = await supabase\n    .from(\"profiles\")\n    .select(\"*\")\n    .eq(\"id\", user.id)\n    .single()\n\n  if (!profile) {\n    return (\n      <div className=\"mx-auto max-w-lg\">\n        <Card>\n          <CardContent className=\"pt-6\">\n            <p className=\"text-muted-foreground\">Profile not found. Try logging out and back in.</p>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"mx-auto max-w-lg space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Profile</CardTitle>\n          <CardDescription>Your contact info and net profit. Toggle public to appear on the leaderboard.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <NetProfitBlock profile={profile} />\n          <ProfileForm profile={profile} />\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n","import type { Profile } from \"@/lib/db-types\"\nimport { formatDollar } from \"@/lib/utils\"\nimport { NetProfitGraph } from \"./net-profit-graph\"\n\nexport function NetProfitBlock({ profile }: { profile: Profile }) {\n  const net = Number(profile.net_profit)\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-lg border bg-muted/50 p-4\">\n        <p className=\"text-muted-foreground text-sm\">Net profit (all time)</p>\n        <p className={`text-2xl font-bold ${net >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n          {formatDollar(net)}\n        </p>\n      </div>\n      <NetProfitGraph userId={profile.id} />\n    </div>\n  )\n}\n"],"names":[],"mappings":"saAEA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAK,WAAE,CAAS,CAAE,GAAG,EAAoC,EAChE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,OACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,oFACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAW,WAAE,CAAS,CAAE,GAAG,EAAoC,EACtE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,cACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,6JACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAoC,EACrE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,qCAAsC,GACnD,GAAG,CAAK,EAGf,CAEA,SAAS,EAAgB,CAAE,WAAS,CAAE,GAAG,EAAoC,EAC3E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,mBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,GAC9C,GAAG,CAAK,EAGf,CAeA,SAAS,EAAY,WAAE,CAAS,CAAE,GAAG,EAAoC,EACvE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,OAAQ,GACrB,GAAG,CAAK,EAGf,qLCrEO,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,gEACA,wEAHG,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,OAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,4CACA,oHCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEO,eAAe,EAAe,QAAE,CAAM,CAAsB,EACjE,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAC7B,CAAE,KAAM,CAAI,CAAE,CAAG,MAAM,EAC1B,IAAI,CAAC,uBACL,MAAM,CAAC,6BACP,EAAE,CAAC,UAAW,GACd,KAAK,CAAC,cAAe,CAAE,WAAW,CAAK,GAE1C,GAAI,CAAC,GAAM,OACT,CADiB,KAEf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qBAAY,2BAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8BAMrD,IAAI,EAAU,EACR,EAAS,EAAK,GAAG,CAAC,AAAC,IACvB,GAAW,OAAO,EAAE,YAAY,EACzB,CACL,GAAI,IAAI,KAAK,EAAE,WAAW,EAAE,kBAAkB,MAAC,EAAW,CACxD,MAAO,QACP,IAAK,SACP,GACA,IAAK,CACP,IAGF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qBAAY,2BAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAQ,QAIhC,kFC7CO,IAAM,EAAc,CAAA,EAAA,AAD3B,EAAA,CAAA,CAAA,OAC2B,uBAAA,AAAuB,EAC9C,WAAa,MAAM,AAAI,MAAM,oOAAsO,EACnQ,4DACA,kEAHG,IAAM,EAAc,CAAA,EAAA,AAD3B,EAAA,CAAA,CAAA,OAC2B,uBAAA,AAAuB,EAC9C,WAAa,MAAM,AAAI,MAAM,oOAAsO,EACnQ,wCACA,kHCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCDA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,SAAS,EAAe,SAAE,CAAO,CAAwB,EAC9D,IAAM,EAAM,OAAO,EAAQ,UAAU,EAErC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,0BAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,mBAAmB,EAAE,GAAO,EAAI,iBAAmB,eAAA,CAAgB,UAC/E,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,QAGlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAQ,EAAQ,EAAE,KAGxC,CDdA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC5B,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAY,AAAZ,IACjB,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EAC3B,CAAC,GAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAEpB,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAC7B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,MAAM,UAET,AAAK,EAaH,CAAA,CAbE,CAaF,EAAA,EAbY,CAaZ,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,YACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,qFAEnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,QAAS,IACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,QAAS,YAnB1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,yDAqBjD","ignoreList":[1,3]}