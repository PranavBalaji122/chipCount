(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19530,(e,t,r)=>{var n=e.r(41015),a=e.r(80957),i=e.r(66305);t.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},49673,(e,t,r)=>{var n=e.r(41015),a=e.r(66305),i=e.r(98128);t.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},42142,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(20755),i=e.i(47163),l=e.i(70065),o=e.i(67881),s=e.i(23750);let c=(0,e.i(25913).cva)("relative w-full rounded-lg border px-4 py-3 grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",success:"text-success bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-success/90",warning:"border-orange-200 bg-orange-50 text-orange-800 [&>svg]:text-current *:data-[slot=alert-description]:text-orange-700"}},defaultVariants:{variant:"default"}});function u({className:e,variant:r,...n}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(c({variant:r}),e),...n})}function f({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-title",className:(0,i.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...r})}function d({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 [&_p]:leading-relaxed",e),...r})}var p=e.i(75254);let h=(0,p.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),m=(0,p.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var b={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g=r.default.createContext&&r.default.createContext(b),y=["attr","size","title"];function v(){return(v=Object.assign.bind()).apply(this,arguments)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){return t=>r.default.createElement(k,v({attr:j({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.default.createElement(t.tag,j({key:n},t.attr),e(t.child)))}(e.child))}function k(e){var t=t=>{var n,{attr:a,size:i,title:l}=e,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,y),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.default.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:n,style:j(j({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),l&&r.default.createElement("title",null,l),e.children)};return void 0!==g?r.default.createElement(g.Consumer,null,e=>t(e)):t(b)}function O(e){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.17 32H70.28C49.85 32 32 46.7 32 66.89V441.6c0 20.31 17.85 38.4 38.28 38.4h373.78c20.54 0 35.94-18.2 35.94-38.39V66.89C480.12 46.7 464.6 32 444.17 32zM278 387H174.32l-41.57-248.56 90.75-8.62 22 176.87c20.53-33.45 45.88-86 45.88-121.87 0-19.62-3.36-33-8.61-44l82.63-16.72c9.56 15.78 13.86 32 13.86 52.57-.01 65.5-55.92 150.59-101.26 210.33z"},child:[]}]})(e)}function A(e){return w({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.59 3.475a5.1 5.1 0 00-3.05-3.05c-1.31-.42-2.5-.42-4.92-.42H8.36c-2.4 0-3.61 0-4.9.4a5.1 5.1 0 00-3.05 3.06C0 4.765 0 5.965 0 8.365v7.27c0 2.41 0 3.6.4 4.9a5.1 5.1 0 003.05 3.05c1.3.41 2.5.41 4.9.41h7.28c2.41 0 3.61 0 4.9-.4a5.1 5.1 0 003.06-3.06c.41-1.3.41-2.5.41-4.9v-7.25c0-2.41 0-3.61-.41-4.91zm-6.17 4.63l-.93.93a.5.5 0 01-.67.01 5 5 0 00-3.22-1.18c-.97 0-1.94.32-1.94 1.21 0 .9 1.04 1.2 2.24 1.65 2.1.7 3.84 1.58 3.84 3.64 0 2.24-1.74 3.78-4.58 3.95l-.26 1.2a.49.49 0 01-.48.39H9.63l-.09-.01a.5.5 0 01-.38-.59l.28-1.27a6.54 6.54 0 01-2.88-1.57v-.01a.48.48 0 010-.68l1-.97a.49.49 0 01.67 0c.91.86 2.13 1.34 3.39 1.32 1.3 0 2.17-.55 2.17-1.42 0-.87-.88-1.1-2.54-1.72-1.76-.63-3.43-1.52-3.43-3.6 0-2.42 2.01-3.6 4.39-3.71l.25-1.23a.48.48 0 01.48-.38h1.78l.1.01c.26.06.43.31.37.57l-.27 1.37c.9.3 1.75.77 2.48 1.39l.02.02c.19.2.19.5 0 .68z"},child:[]}]})(e)}let N=({label:e,value:r})=>(0,t.jsxs)("div",{className:"bg-secondary flex w-full flex-col items-center justify-center rounded-sm py-1.5 transition-all",children:[(0,t.jsx)("p",{children:e}),(0,t.jsx)("p",{className:"font-bold",children:(0,i.formatDollar)(r)})]}),P=({target:e,isSending:r,val:n})=>{let a="";if("@"===e[0]){let t=new URL("https://venmo.com/");Object.entries({txn:r?"pay":"charge",audience:"private",recipients:e.substring(1),amount:n.toFixed(2),note:`${(0,i.formattedDateTime)()} Game`}).forEach(([e,r])=>t.searchParams.set(e,r)),a=t.toString()}return"$"===e[0]&&(a=`https://cash.app/$${e.substring(1)}`),a?(0,t.jsxs)("a",{href:a,target:"_blank",referrerPolicy:"no-referrer",rel:"noopener",className:"text-link inline-flex flex-row items-center",children:[(0,t.jsx)("span",{children:e.substring(1)}),"@"===e[0]?(0,t.jsx)(O,{className:"ml-1"}):"$"===e[0]?(0,t.jsx)(A,{className:"ml-1"}):null]}):(0,t.jsx)(t.Fragment,{children:e})};function _({player:e,slippage:r}){let n=[{data:e.paidBy,variant:"destructive",icon:(0,t.jsx)(h,{}),title:"Owes",preposition:"to"},{data:e.paidTo,variant:"success",icon:(0,t.jsx)(m,{}),title:"Receives",preposition:"from"}].filter(e=>e.data.length>0);return(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:e.displayName}),(0,t.jsxs)(l.CardDescription,{className:"flex flex-row items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(N,{label:"Cash In",value:e.cashIn}),(0,t.jsx)(N,{label:"Cash Out",value:e.cashOut}),Math.abs(r)>1e-9&&(0,t.jsx)(N,{label:"Slippage",value:r})]}),(0,t.jsx)(l.CardAction,{className:`text-2xl font-semibold ${e.net>1e-9?"text-success":e.net<-1e-9?"text-destructive":""}`,children:(0,i.formatDollar)(e.net)})]}),n.length>0&&(0,t.jsx)(l.CardContent,{className:"space-y-2",children:n.map(e=>(0,t.jsxs)(u,{variant:e.variant,children:[e.icon,(0,t.jsx)(f,{children:e.title}),(0,t.jsx)(d,{children:(0,t.jsx)("ul",{children:e.data.map(r=>(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-bold",children:(0,i.formatDollar)(r.value)})," ",e.preposition," ",(0,t.jsx)(P,{target:r.target,isSending:"destructive"===e.variant,val:r.value})]},r.target))})})]},e.title))})]})}let C=(0,p.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function E({payout:e}){let r=e.players.reduce((e,t)=>e+t.cashIn,0),n=e.players.reduce((e,t)=>e+t.cashOut,0);return(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsxs)(l.Card,{className:"w-full max-w-[50ch] border-orange-200 bg-orange-50",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-orange-800",children:[(0,t.jsx)(C,{className:"h-5 w-5"}),"Slippage Detected"]}),(0,t.jsxs)(l.CardDescription,{className:"text-orange-700",children:["There's a ",(0,i.formatDollar)(Math.abs(e.slippage))," ",e.slippage>0?"surplus":"shortage"," in the game. This has been"," ",e.slippage>0?"distributed equally among":"deducted equally from"," ","all players."]})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"text-sm text-orange-800",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{children:["Total Cash In: ",(0,i.formatDollar)(r)]}),(0,t.jsxs)("p",{children:["Total Cash Out: ",(0,i.formatDollar)(n)]}),(0,t.jsxs)("div",{className:"font-medium",children:["Difference: ",(0,i.formatDollar)(Math.abs(e.slippage))," (",(0,i.formatDollar)(Math.abs(e.slippage)/e.players.length)," ","per player)"]})]})})})]})})}var S=e.i(44098),M=e.i(34239),T=e.i(59559);let L={light:"",dark:".dark"},R=r.createContext(null);function I({id:e,className:n,children:a,config:l,...o}){let s=r.useId(),c=`chart-${e||s.replace(/:/g,"")}`;return(0,t.jsx)(R.Provider,{value:{config:l},children:(0,t.jsxs)("div",{"data-slot":"chart","data-chart":c,className:(0,i.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",n),...o,children:[(0,t.jsx)(D,{id:c,config:l}),(0,t.jsx)(S.ResponsiveContainer,{children:a})]})})}let D=({id:e,config:r})=>{let n=Object.entries(r).filter(([,e])=>e.theme||e.color);return n.length?(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(L).map(([t,r])=>`
${r} [data-chart=${e}] {
${n.map(([e,r])=>{let n=r.theme?.[t]||r.color;return n?`  --color-${e}: ${n};`:null}).join("\n")}
}
`).join("\n")}}):null},$=M.Tooltip;function B({active:e,payload:n,className:a,indicator:l="dot",hideLabel:o=!1,hideIndicator:s=!1,label:c,labelFormatter:u,labelClassName:f,formatter:d,color:p,nameKey:h,labelKey:m}){let{config:b}=function(){let e=r.useContext(R);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),g=r.useMemo(()=>{if(o||!n?.length)return null;let[e]=n,r=`${m||e?.dataKey||e?.name||"value"}`,a=K(b,e,r),l=m||"string"!=typeof c?a?.label:b[c]?.label||c;return u?(0,t.jsx)("div",{className:(0,i.cn)("font-medium",f),children:u(l,n)}):l?(0,t.jsx)("div",{className:(0,i.cn)("font-medium",f),children:l}):null},[c,u,n,o,f,b,m]);if(!e||!n?.length)return null;let y=1===n.length&&"dot"!==l;return(0,t.jsxs)("div",{className:(0,i.cn)("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",a),children:[y?null:g,(0,t.jsx)("div",{className:"grid gap-1.5",children:n.map((e,r)=>{let n=`${h||e.name||e.dataKey||"value"}`,a=K(b,e,n),o=p||e.payload.fill||e.color;return(0,t.jsx)("div",{className:(0,i.cn)("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===l&&"items-center"),children:d&&e?.value!==void 0&&e.name?d(e.value,e.name,e,r,e.payload):(0,t.jsxs)(t.Fragment,{children:[a?.icon?(0,t.jsx)(a.icon,{}):!s&&(0,t.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":y&&"dashed"===l}),style:{"--color-bg":o,"--color-border":o}}),(0,t.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,t.jsxs)("div",{className:"grid gap-1.5",children:[y?g:null,(0,t.jsx)("span",{className:"text-muted-foreground",children:a?.label||e.name})]}),e.value&&(0,t.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function K(e,t,r){if("object"!=typeof t||null===t)return;let n="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=r;return r in t&&"string"==typeof t[r]?a=t[r]:n&&r in n&&"string"==typeof n[r]&&(a=n[r]),a in e?e[a]:e[r]}T.Legend;var F=e.i(494),V=e.i(69212),G=e.i(73050),q=e.i(82820),z=e.i(98892),Y=e.i(29873),H=e.i(71223),X=e.i(7670),Z=e.i(97865),W=e.i(72733),U=e.i(9516),J=e.i(22787),Q=e.i(81977),ee=e.i(62728),et=e.i(68970),er=e.i(94395),en=e.i(98770),ea=e.i(29071),ei=e.i(73393),el=e.i(18519);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(){return(es=Object.assign.bind()).apply(this,arguments)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){em(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eb(n.key),n)}}function ed(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ed=function(){return!!e})()}function ep(e){return(ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eh(e,t){return(eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e,t,r){return(t=eb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eb(e){var t=function(e,t){if("object"!=eo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eo(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eo(t)?t:t+""}var eg=function(e){var t,n;function a(e){var t,r,n;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return r=a,n=[e],r=ep(r),em(t=function(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,ed()?Reflect.construct(r,n||[],ep(this).constructor):r.apply(this,n)),"pieRef",null),em(t,"sectorRefs",[]),em(t,"id",(0,er.uniqueId)("recharts-pie-")),em(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),(0,H.default)(e)&&e()}),em(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),(0,H.default)(e)&&e()}),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&eh(a,e),t=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.label,i=t.labelLine,l=t.dataKey,o=t.valueKey,s=(0,Q.filterProps)(this.props,!1),c=(0,Q.filterProps)(n,!1),u=(0,Q.filterProps)(i,!1),f=n&&n.offsetRadius||20,d=e.map(function(e,t){var d=(e.startAngle+e.endAngle)/2,p=(0,et.polarToCartesian)(e.cx,e.cy,e.outerRadius+f,d),h=eu(eu(eu(eu({},s),e),{},{stroke:"none"},c),{},{index:t,textAnchor:a.getTextAnchor(p.x,e.cx)},p),m=eu(eu(eu(eu({},s),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[(0,et.polarToCartesian)(e.cx,e.cy,e.outerRadius,d),p]}),b=l;return(0,Y.default)(l)&&(0,Y.default)(o)?b="value":(0,Y.default)(l)&&(b=o),r.default.createElement(Z.Layer,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},i&&a.renderLabelLineItem(i,m,"line"),a.renderLabelItem(n,h,(0,en.getValueByDataKey)(e,b)))});return r.default.createElement(Z.Layer,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,a=n.activeShape,i=n.blendStroke,l=n.inactiveShape;return e.map(function(n,o){if((null==n?void 0:n.startAngle)===0&&(null==n?void 0:n.endAngle)===0&&1!==e.length)return null;var s=t.isActiveIndex(o),c=l&&t.hasActiveIndex()?l:null,u=eu(eu({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return r.default.createElement(Z.Layer,es({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},(0,ei.adaptEventsOfChild)(t.props,n,o),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(o)}),r.default.createElement(el.Shape,es({option:s?a:c,isActive:s,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,a=t.isAnimationActive,i=t.animationBegin,l=t.animationDuration,o=t.animationEasing,s=t.animationId,c=this.state,u=c.prevSectors,f=c.prevIsAnimationActive;return r.default.createElement(G.default,{begin:i,duration:l,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,i=[],l=(n&&n[0]).startAngle;return n.forEach(function(e,t){var r=u&&u[t],n=t>0?(0,q.default)(e,"paddingAngle",0):0;if(r){var o=(0,er.interpolateNumber)(r.endAngle-r.startAngle,e.endAngle-e.startAngle),s=eu(eu({},e),{},{startAngle:l+n,endAngle:l+o(a)+n});i.push(s),l=s.endAngle}else{var c=e.endAngle,f=e.startAngle,d=(0,er.interpolateNumber)(0,c-f)(a),p=eu(eu({},e),{},{startAngle:l+n,endAngle:l+d+n});i.push(p),l=p.endAngle}}),r.default.createElement(Z.Layer,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return r&&t&&t.length&&(!n||!(0,z.default)(n,t))?this.renderSectorsWithAnimation():this.renderSectorsStatically(t)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,a=t.sectors,i=t.className,l=t.label,o=t.cx,s=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!a||!a.length||!(0,er.isNumber)(o)||!(0,er.isNumber)(s)||!(0,er.isNumber)(c)||!(0,er.isNumber)(u))return null;var p=(0,X.default)("recharts-pie",i);return r.default.createElement(Z.Layer,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),l&&this.renderLabels(a),F.Label.renderCallByParent(this.props,null,!1),(!f||d)&&V.LabelList.renderCallByParent(this.props,a,!1))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.default.isValidElement(e))return r.default.cloneElement(e,t);if((0,H.default)(e))return e(t);var a=(0,X.default)("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return r.default.createElement(W.Curve,es({},t,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.default.isValidElement(e))return r.default.cloneElement(e,t);var a=n;if((0,H.default)(e)&&(a=e(t),r.default.isValidElement(a)))return a;var i=(0,X.default)("recharts-pie-label-text","boolean"==typeof e||(0,H.default)(e)?"":e.className);return r.default.createElement(U.Text,es({},t,{alignmentBaseline:"middle",className:i}),a)}}],t&&ef(a.prototype,t),n&&ef(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);em(eg,"displayName","Pie"),em(eg,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ee.Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),em(eg,"parseDeltaAngle",function(e,t){return(0,er.mathSign)(t-e)*Math.min(Math.abs(t-e),360)}),em(eg,"getRealPieData",function(e){var t=e.data,r=e.children,n=(0,Q.filterProps)(e,!1),a=(0,Q.findAllByType)(r,J.Cell);return t&&t.length?t.map(function(e,t){return eu(eu(eu({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return eu(eu({},n),e.props)}):[]}),em(eg,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,l=(0,et.getMaxRadius)(a,i);return{cx:n+(0,er.getPercentValue)(e.cx,a,a/2),cy:r+(0,er.getPercentValue)(e.cy,i,i/2),innerRadius:(0,er.getPercentValue)(e.innerRadius,l,0),outerRadius:(0,er.getPercentValue)(e.outerRadius,l,.8*l),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),em(eg,"getComposedData",function(e){var t,r,n=e.item,a=e.offset,i=void 0!==n.type.defaultProps?eu(eu({},n.type.defaultProps),n.props):n.props,l=eg.getRealPieData(i);if(!l||!l.length)return null;var o=i.cornerRadius,s=i.startAngle,c=i.endAngle,u=i.paddingAngle,f=i.dataKey,d=i.nameKey,p=i.valueKey,h=i.tooltipType,m=Math.abs(i.minAngle),b=eg.parseCoordinateOfPie(i,a),g=eg.parseDeltaAngle(s,c),y=Math.abs(g),v=f;(0,Y.default)(f)&&(0,Y.default)(p)?((0,ea.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):(0,Y.default)(f)&&((0,ea.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=p);var x=l.filter(function(e){return 0!==(0,en.getValueByDataKey)(e,v,0)}).length,j=y-x*m-(y>=360?x:x-1)*u,w=l.reduce(function(e,t){var r=(0,en.getValueByDataKey)(t,v,0);return e+((0,er.isNumber)(r)?r:0)},0);return w>0&&(t=l.map(function(e,t){var n,a=(0,en.getValueByDataKey)(e,v,0),i=(0,en.getValueByDataKey)(e,d,t),l=((0,er.isNumber)(a)?a:0)/w,c=(n=t?r.endAngle+(0,er.mathSign)(g)*u*(0!==a):s)+(0,er.mathSign)(g)*((0!==a?m:0)+l*j),f=(n+c)/2,p=(b.innerRadius+b.outerRadius)/2,y=[{name:i,value:a,payload:e,dataKey:v,type:h}],x=(0,et.polarToCartesian)(b.cx,b.cy,p,f);return r=eu(eu(eu({percent:l,cornerRadius:o,name:i,tooltipPayload:y,midAngle:f,middleRadius:p,tooltipPosition:x},e),b),{},{value:(0,en.getValueByDataKey)(e,v),startAngle:n,endAngle:c,payload:e,paddingAngle:(0,er.mathSign)(g)*u})})),eu(eu({},b),{},{sectors:t,data:l})});var ey=e.i(83966),ev=e.i(38279),ex=["points","className","baseLinePoints","connectNulls"];function ej(){return(ej=Object.assign.bind()).apply(this,arguments)}function ew(e){return function(e){if(Array.isArray(e))return ek(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ek(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eO=function(e){return e&&e.x===+e.x&&e.y===+e.y},eA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){eO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),eO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},eN=function(e,t){var r=eA(e);t&&(r=[r.reduce(function(e,t){return[].concat(ew(e),ew(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},eP=function(e,t,r){var n=eN(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(eN(t.reverse(),r).slice(1))},e_=function(e){var t=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ex);if(!t||!t.length)return null;var o=(0,X.default)("recharts-polygon",n);if(a&&a.length){var s=l.stroke&&"none"!==l.stroke,c=eP(t,a,i);return r.default.createElement("g",{className:o},r.default.createElement("path",ej({},(0,Q.filterProps)(l,!0),{fill:"Z"===c.slice(-1)?l.fill:"none",stroke:"none",d:c})),s?r.default.createElement("path",ej({},(0,Q.filterProps)(l,!0),{fill:"none",d:eN(t,i)})):null,s?r.default.createElement("path",ej({},(0,Q.filterProps)(l,!0),{fill:"none",d:eN(a,i)})):null)}var u=eN(t,i);return r.default.createElement("path",ej({},(0,Q.filterProps)(l,!0),{fill:"Z"===u.slice(-1)?l.fill:"none",className:o,d:u}))};function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(){return(eE=Object.assign.bind()).apply(this,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(t){eD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e$(n.key),n)}}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eL=function(){return!!e})()}function eR(e){return(eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eI(e,t){return(eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eD(e,t,r){return(t=e$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=function(e,t){if("object"!=eC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eC(t)?t:t+""}var eB=Math.PI/180,eK=function(e){var t,n;function a(){var e,t;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return e=a,t=arguments,e=eR(e),function(e,t){if(t&&("object"===eC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,eL()?Reflect.construct(e,t||[],eR(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&eI(a,e),t=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,l=t.tickSize,o=(0,et.polarToCartesian)(r,n,a,e.coordinate),s=(0,et.polarToCartesian)(r,n,a+("inner"===i?-1:1)*(l||8),e.coordinate);return{x1:o.x,y1:o.y,x2:s.x,y2:s.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*eB);return r>1e-5?"outer"===t?"start":"end":r<-1e-5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.radius,i=e.axisLine,l=e.axisLineType,o=eM(eM({},(0,Q.filterProps)(this.props,!1)),{},{fill:"none"},(0,Q.filterProps)(i,!1));if("circle"===l)return r.default.createElement(ev.Dot,eE({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:n,r:a}));var s=this.props.ticks.map(function(e){return(0,et.polarToCartesian)(t,n,a,e.coordinate)});return r.default.createElement(e_,eE({className:"recharts-polar-angle-axis-line"},o,{points:s}))}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,i=t.tick,l=t.tickLine,o=t.tickFormatter,s=t.stroke,c=(0,Q.filterProps)(this.props,!1),u=(0,Q.filterProps)(i,!1),f=eM(eM({},c),{},{fill:"none"},(0,Q.filterProps)(l,!1)),d=n.map(function(t,n){var d=e.getTickLineCoord(t),p=eM(eM(eM({textAnchor:e.getTickTextAnchor(t)},c),{},{stroke:"none",fill:s},u),{},{index:n,payload:t,x:d.x2,y:d.y2});return r.default.createElement(Z.Layer,eE({className:(0,X.default)("recharts-polar-angle-axis-tick",(0,et.getTickClassName)(i)),key:"tick-".concat(t.coordinate)},(0,ei.adaptEventsOfChild)(e.props,t,n)),l&&r.default.createElement("line",eE({className:"recharts-polar-angle-axis-tick-line"},f,d)),i&&a.renderTickItem(i,p,o?o(t.value,n):t.value))});return r.default.createElement(Z.Layer,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,a=e.axisLine;return!(n<=0)&&t&&t.length?r.default.createElement(Z.Layer,{className:(0,X.default)("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks()):null}}],n=[{key:"renderTickItem",value:function(e,t,n){return r.default.isValidElement(e)?r.default.cloneElement(e,t):(0,H.default)(e)?e(t):r.default.createElement(U.Text,eE({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],t&&eT(a.prototype,t),n&&eT(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);eD(eK,"displayName","PolarAngleAxis"),eD(eK,"axisType","angleAxis"),eD(eK,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eF=e.i(19530),eV=e.i(49673),eG=["cx","cy","angle","ticks","axisLine"],eq=["ticks","tick","angle","tickFormatter","stroke"];function ez(e){return(ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(){return(eY=Object.assign.bind()).apply(this,arguments)}function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(r),!0).forEach(function(t){e0(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eZ(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e1(n.key),n)}}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eU=function(){return!!e})()}function eJ(e){return(eJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eQ(e,t){return(eQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e0(e,t,r){return(t=e1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e1(e){var t=function(e,t){if("object"!=ez(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ez(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ez(t)?t:t+""}var e2=function(e){var t,n;function a(){var e,t;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return e=a,t=arguments,e=eJ(e),function(e,t){if(t&&("object"===ez(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,eU()?Reflect.construct(e,t||[],eJ(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&eQ(a,e),t=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return(0,et.polarToCartesian)(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=(0,eF.default)(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:(0,eV.default)(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,i=e.ticks,l=e.axisLine,o=eZ(e,eG),s=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=(0,et.polarToCartesian)(t,n,s[0],a),u=(0,et.polarToCartesian)(t,n,s[1],a),f=eX(eX(eX({},(0,Q.filterProps)(o,!1)),{},{fill:"none"},(0,Q.filterProps)(l,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return r.default.createElement("line",eY({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,i=t.tick,l=t.angle,o=t.tickFormatter,s=t.stroke,c=eZ(t,eq),u=this.getTickTextAnchor(),f=(0,Q.filterProps)(c,!1),d=(0,Q.filterProps)(i,!1),p=n.map(function(t,n){var c=e.getTickValueCoord(t),p=eX(eX(eX(eX({textAnchor:u,transform:"rotate(".concat(90-l,", ").concat(c.x,", ").concat(c.y,")")},f),{},{stroke:"none",fill:s},d),{},{index:n},c),{},{payload:t});return r.default.createElement(Z.Layer,eY({className:(0,X.default)("recharts-polar-radius-axis-tick",(0,et.getTickClassName)(i)),key:"tick-".concat(t.coordinate)},(0,ei.adaptEventsOfChild)(e.props,t,n)),a.renderTickItem(i,p,o?o(t.value,n):t.value))});return r.default.createElement(Z.Layer,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,a=e.tick;return t&&t.length?r.default.createElement(Z.Layer,{className:(0,X.default)("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),F.Label.renderCallByParent(this.props,this.getViewBox())):null}}],n=[{key:"renderTickItem",value:function(e,t,n){return r.default.isValidElement(e)?r.default.cloneElement(e,t):(0,H.default)(e)?e(t):r.default.createElement(U.Text,eY({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],t&&eW(a.prototype,t),n&&eW(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);e0(e2,"displayName","PolarRadiusAxis"),e0(e2,"axisType","radiusAxis"),e0(e2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var e5=(0,ey.generateCategoricalChart)({chartName:"PieChart",GraphicalChild:eg,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eK},{axisType:"radiusAxis",AxisComp:e2}],formatAxisMap:et.formatAxisMap,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});let{min:e3,max:e6}=Math,e4=(e,t=0,r=1)=>e3(e6(t,e),r),e8=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=e4(e[t],0,255)):3===t&&(e[t]=e4(e[t],0,1));return e},e9={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])e9[`[object ${e}]`]=e.toLowerCase();function e7(e){return e9[Object.prototype.toString.call(e)]||"object"}let te=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):"object"==e7(e[0])&&t?t.split("").filter(t=>void 0!==e[0][t]).map(t=>e[0][t]):e[0].slice(0),tt=e=>{if(e.length<2)return null;let t=e.length-1;return"string"==e7(e[t])?e[t].toLowerCase():null},{PI:tr,min:tn,max:ta}=Math,ti=e=>Math.round(100*e)/100,tl=e=>Math.round(100*e)/100,to=2*tr,ts=tr/3,tc=tr/180,tu=180/tr;function tf(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}let td={format:{},autodetect:[]},tp=class{constructor(...e){if("object"===e7(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let t=tt(e),r=!1;if(!t){for(let n of(r=!0,td.sorted||(td.autodetect=td.autodetect.sort((e,t)=>t.p-e.p),td.sorted=!0),td.autodetect))if(t=n.test(...e))break}if(td.format[t]){const n=td.format[t].apply(null,r?e:e.slice(0,-1));this._rgb=e8(n)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)}toString(){return"function"==e7(this.hex)?this.hex():`[${this._rgb.join(",")}]`}},th=(...e)=>new tp(...e);th.version="3.2.0";let tm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},tb=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,tg=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ty=e=>{if(e.match(tb)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(tg)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=Math.round((255&t)/255*100)/100;return[t>>24&255,t>>16&255,t>>8&255,r]}throw Error(`unknown hex color: ${e}`)},{round:tv}=Math,tx=(...e)=>{let[t,r,n,a]=te(e,"rgba"),i=tt(e)||"auto";void 0===a&&(a=1),"auto"===i&&(i=a<1?"rgba":"rgb"),t=tv(t);let l="000000"+(t<<16|(r=tv(r))<<8|(n=tv(n))).toString(16);l=l.substr(l.length-6);let o="0"+tv(255*a).toString(16);switch(o=o.substr(o.length-2),i.toLowerCase()){case"rgba":return`#${l}${o}`;case"argb":return`#${o}${l}`;default:return`#${l}`}};tp.prototype.name=function(){let e=tx(this._rgb,"rgb");for(let t of Object.keys(tm))if(tm[t]===e)return t.toLowerCase();return e},td.format.named=e=>{if(tm[e=e.toLowerCase()])return ty(tm[e]);throw Error("unknown color name: "+e)},td.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===e7(e)&&tm[e.toLowerCase()])return"named"}}),tp.prototype.alpha=function(e,t=!1){return void 0!==e&&"number"===e7(e)?t?(this._rgb[3]=e,this):new tp([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},tp.prototype.clipped=function(){return this._rgb._clipped||!1};let tj={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},tw=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function tk(e){let t=tw.get(String(e).toLowerCase());if(!t)throw Error("unknown Lab illuminant "+e);tj.labWhitePoint=e,tj.Xn=t[0],tj.Zn=t[1]}function tO(){return tj.labWhitePoint}let tA=e=>{let t=Math.sign(e);return((e=Math.abs(e))<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)*t},tN=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:a,MtxXYZ2RGB:i,RefWhiteRGB:l,Xn:o,Yn:s,Zn:c}=tj,u=o*n.m00+s*n.m10+c*n.m20,f=o*n.m01+s*n.m11+c*n.m21,d=o*n.m02+s*n.m12+c*n.m22,p=l.X*n.m00+l.Y*n.m10+l.Z*n.m20,h=l.X*n.m01+l.Y*n.m11+l.Z*n.m21,m=l.X*n.m02+l.Y*n.m12+l.Z*n.m22,b=(e*n.m00+t*n.m10+r*n.m20)*(p/u),g=(e*n.m01+t*n.m11+r*n.m21)*(h/f),y=(e*n.m02+t*n.m12+r*n.m22)*(m/d),v=b*a.m00+g*a.m10+y*a.m20,x=b*a.m01+g*a.m11+y*a.m21,j=b*a.m02+g*a.m12+y*a.m22;return[255*tA(v*i.m00+x*i.m10+j*i.m20),255*tA(v*i.m01+x*i.m11+j*i.m21),255*tA(v*i.m02+x*i.m12+j*i.m22)]},tP=(...e)=>{let[t,r,n]=e=te(e,"lab"),[a,i,l]=((e,t,r)=>{let{kE:n,kK:a,kKE:i,Xn:l,Yn:o,Zn:s}=tj,c=(e+16)/116,u=.002*t+c,f=c-.005*r,d=u*u*u,p=f*f*f,h=e>i?Math.pow((e+16)/116,3):e/a;return[(d>n?d:(116*u-16)/a)*l,h*o,(p>n?p:(116*f-16)/a)*s]})(t,r,n),[o,s,c]=tN(a,i,l);return[o,s,c,e.length>3?e[3]:1]};function t_(e){let t=Math.sign(e);return((e=Math.abs(e))<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}let tC=(e,t,r)=>{e=t_(e/255),t=t_(t/255),r=t_(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:a,MtxAdaptMaI:i,Xn:l,Yn:o,Zn:s,As:c,Bs:u,Cs:f}=tj,d=e*n.m00+t*n.m10+r*n.m20,p=e*n.m01+t*n.m11+r*n.m21,h=e*n.m02+t*n.m12+r*n.m22,m=l*a.m00+o*a.m10+s*a.m20,b=l*a.m01+o*a.m11+s*a.m21,g=l*a.m02+o*a.m12+s*a.m22,y=d*a.m00+p*a.m10+h*a.m20,v=d*a.m01+p*a.m11+h*a.m21,x=d*a.m02+p*a.m12+h*a.m22;return y*=m/c,v*=b/u,x*=g/f,d=y*i.m00+v*i.m10+x*i.m20,[d,p=y*i.m01+v*i.m11+x*i.m21,h=y*i.m02+v*i.m12+x*i.m22]},tE=(...e)=>{let[t,r,n,...a]=te(e,"rgb"),[i,l,o]=tC(t,r,n),[s,c,u]=function(e,t,r){let{Xn:n,Yn:a,Zn:i,kE:l,kK:o}=tj,s=e/n,c=t/a,u=r/i,f=s>l?Math.pow(s,1/3):(o*s+16)/116,d=c>l?Math.pow(c,1/3):(o*c+16)/116;return[116*d-16,500*(f-d),200*(d-(u>l?Math.pow(u,1/3):(o*u+16)/116))]}(i,l,o);return[s,c,u,...a.length>0&&a[0]<1?[a[0]]:[]]};tp.prototype.lab=function(){return tE(this._rgb)},Object.assign(th,{lab:(...e)=>new tp(...e,"lab"),getLabWhitePoint:tO,setLabWhitePoint:tk}),td.format.lab=tP,td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"lab"))&&3===e.length)return"lab"}}),tp.prototype.darken=function(e=1){let t=this.lab();return t[0]-=tj.Kn*e,new tp(t,"lab").alpha(this.alpha(),!0)},tp.prototype.brighten=function(e=1){return this.darken(-e)},tp.prototype.darker=tp.prototype.darken,tp.prototype.brighter=tp.prototype.brighten,tp.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(!r)return n;{let e=t.indexOf(r)-2*("ok"===t.substr(0,2));if(e>-1)return n[e];throw Error(`unknown channel ${r} in mode ${t}`)}};let{pow:tS}=Math;tp.prototype.luminance=function(e,t="rgb"){if(void 0!==e&&"number"===e7(e)){if(0===e)return new tp([0,0,0,this._rgb[3]],"rgb");if(1===e)return new tp([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=20,a=(r,i)=>{let l=r.interpolate(i,.5,t),o=l.luminance();return!(1e-7>Math.abs(e-o))&&n--?o>e?a(r,l):a(l,i):l},i=(r>e?a(new tp([0,0,0]),this):a(this,new tp([255,255,255]))).rgb();return new tp([...i,this._rgb[3]])}return tM(...this._rgb.slice(0,3))};let tM=(e,t,r)=>(e=tT(e),.2126*e+.7152*(t=tT(t))+.0722*(r=tT(r))),tT=e=>(e/=255)<=.03928?e/12.92:tS((e+.055)/1.055,2.4),tL={},tR=(e,t,r=.5,...n)=>{let a=n[0]||"lrgb";if(tL[a]||n.length||(a=Object.keys(tL)[0]),!tL[a])throw Error(`interpolation mode ${a} is not defined`);return"object"!==e7(e)&&(e=new tp(e)),"object"!==e7(t)&&(t=new tp(t)),tL[a](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};tp.prototype.mix=tp.prototype.interpolate=function(e,t=.5,...r){return tR(this,e,t,...r)},tp.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new tp([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};let{sin:tI,cos:tD}=Math,t$=(...e)=>{let[t,r,n]=te(e,"lch");return isNaN(n)&&(n=0),[t,tD(n*=tc)*r,tI(n)*r]},tB=(...e)=>{let[t,r,n]=e=te(e,"lch"),[a,i,l]=t$(t,r,n),[o,s,c]=tP(a,i,l);return[o,s,c,e.length>3?e[3]:1]},{sqrt:tK,atan2:tF,round:tV}=Math,tG=(...e)=>{let[t,r,n]=te(e,"lab"),a=tK(r*r+n*n),i=(tF(n,r)*tu+360)%360;return 0===tV(1e4*a)&&(i=NaN),[t,a,i]},tq=(...e)=>{let[t,r,n,...a]=te(e,"rgb"),[i,l,o]=tE(t,r,n),[s,c,u]=tG(i,l,o);return[s,c,u,...a.length>0&&a[0]<1?[a[0]]:[]]};tp.prototype.lch=function(){return tq(this._rgb)},tp.prototype.hcl=function(){return tf(tq(this._rgb))},Object.assign(th,{lch:(...e)=>new tp(...e,"lch"),hcl:(...e)=>new tp(...e,"hcl")}),td.format.lch=tB,td.format.hcl=(...e)=>tB(...tf(te(e,"hcl"))),["lch","hcl"].forEach(e=>td.autodetect.push({p:2,test:(...t)=>{if("array"===e7(t=te(t,e))&&3===t.length)return e}})),tp.prototype.saturate=function(e=1){let t=this.lch();return t[1]+=tj.Kn*e,t[1]<0&&(t[1]=0),new tp(t,"lch").alpha(this.alpha(),!0)},tp.prototype.desaturate=function(e=1){return this.saturate(-e)},tp.prototype.set=function(e,t,r=!1){let[n,a]=e.split("."),i=this[n]();if(!a)return i;{let e=n.indexOf(a)-2*("ok"===n.substr(0,2));if(e>-1){if("string"==e7(t))switch(t.charAt(0)){case"+":case"-":i[e]+=+t;break;case"*":i[e]*=t.substr(1);break;case"/":i[e]/=t.substr(1);break;default:i[e]=+t}else if("number"===e7(t))i[e]=t;else throw Error("unsupported value for Color.set");let a=new tp(i,n);return r?(this._rgb=a._rgb,this):a}throw Error(`unknown channel ${a} in mode ${n}`)}},tp.prototype.tint=function(e=.5,...t){return tR(this,"white",e,...t)},tp.prototype.shade=function(e=.5,...t){return tR(this,"black",e,...t)},tL.rgb=(e,t,r)=>{let n=e._rgb,a=t._rgb;return new tp(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"rgb")};let{sqrt:tz,pow:tY}=Math;tL.lrgb=(e,t,r)=>{let[n,a,i]=e._rgb,[l,o,s]=t._rgb;return new tp(tz(tY(n,2)*(1-r)+tY(l,2)*r),tz(tY(a,2)*(1-r)+tY(o,2)*r),tz(tY(i,2)*(1-r)+tY(s,2)*r),"rgb")},tL.lab=(e,t,r)=>{let n=e.lab(),a=t.lab();return new tp(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"lab")};let tH=(e,t,r,n)=>{let a,i,l,o,s,c,u,f,d,p,h,m;return"hsl"===n?(a=e.hsl(),i=t.hsl()):"hsv"===n?(a=e.hsv(),i=t.hsv()):"hcg"===n?(a=e.hcg(),i=t.hcg()):"hsi"===n?(a=e.hsi(),i=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",a=e.hcl(),i=t.hcl()):"oklch"===n&&(a=e.oklch().reverse(),i=t.oklch().reverse()),("h"===n.substr(0,1)||"oklch"===n)&&([l,s,u]=a,[o,c,f]=i),isNaN(l)||isNaN(o)?isNaN(l)?isNaN(o)?p=NaN:(p=o,(1==u||0==u)&&"hsv"!=n&&(d=c)):(p=l,(1==f||0==f)&&"hsv"!=n&&(d=s)):(m=o>l&&o-l>180?o-(l+360):o<l&&l-o>180?o+360-l:o-l,p=l+r*m),void 0===d&&(d=s+r*(c-s)),h=u+r*(f-u),"oklch"===n?new tp([h,d,p],n):new tp([p,d,h],n)},tX=(e,t,r)=>tH(e,t,r,"lch");tL.lch=tX,tL.hcl=tX,tp.prototype.num=function(){return((...e)=>{let[t,r,n]=te(e,"rgb");return(t<<16)+(r<<8)+n})(this._rgb)},Object.assign(th,{num:(...e)=>new tp(...e,"num")}),td.format.num=e=>{if("number"==e7(e)&&e>=0&&e<=0xffffff)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},td.autodetect.push({p:5,test:(...e)=>{if(1===e.length&&"number"===e7(e[0])&&e[0]>=0&&e[0]<=0xffffff)return"num"}}),tL.num=(e,t,r)=>{let n=e.num();return new tp(n+r*(t.num()-n),"num")};let{floor:tZ}=Math;tp.prototype.hcg=function(){return((...e)=>{let t,[r,n,a]=te(e,"rgb"),i=tn(r,n,a),l=ta(r,n,a),o=l-i;return 0===o?t=NaN:(r===l&&(t=(n-a)/o),n===l&&(t=2+(a-r)/o),a===l&&(t=4+(r-n)/o),(t*=60)<0&&(t+=360)),[t,100*o/255,i/(255-o)*100]})(this._rgb)},th.hcg=(...e)=>new tp(...e,"hcg"),td.format.hcg=(...e)=>{let t,r,n,[a,i,l]=e=te(e,"hcg");l*=255;let o=255*i;if(0===i)t=r=n=l;else{360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360);let e=tZ(a/=60),s=a-e,c=l*(1-i),u=c+o*(1-s),f=c+o*s,d=c+o;switch(e){case 0:[t,r,n]=[d,f,c];break;case 1:[t,r,n]=[u,d,c];break;case 2:[t,r,n]=[c,d,f];break;case 3:[t,r,n]=[c,u,d];break;case 4:[t,r,n]=[f,c,d];break;case 5:[t,r,n]=[d,c,u]}}return[t,r,n,e.length>3?e[3]:1]},td.autodetect.push({p:1,test:(...e)=>{if("array"===e7(e=te(e,"hcg"))&&3===e.length)return"hcg"}}),tL.hcg=(e,t,r)=>tH(e,t,r,"hcg");let{cos:tW}=Math,{min:tU,sqrt:tJ,acos:tQ}=Math;tp.prototype.hsi=function(){return((...e)=>{let t,[r,n,a]=te(e,"rgb"),i=tU(r/=255,n/=255,a/=255),l=(r+n+a)/3,o=l>0?1-i/l:0;return 0===o?t=NaN:(t=tQ(t=(r-n+(r-a))/2/tJ((r-n)*(r-n)+(r-a)*(n-a))),a>n&&(t=to-t),t/=to),[360*t,o,l]})(this._rgb)},th.hsi=(...e)=>new tp(...e,"hsi"),td.format.hsi=(...e)=>{let t,r,n,[a,i,l]=e=te(e,"hsi");return isNaN(a)&&(a=0),isNaN(i)&&(i=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?r=1-((n=(1-i)/3)+(t=(1+i*tW(to*a)/tW(ts-to*a))/3)):a<2/3?(a-=1/3,n=1-((t=(1-i)/3)+(r=(1+i*tW(to*a)/tW(ts-to*a))/3))):(a-=2/3,t=1-((r=(1-i)/3)+(n=(1+i*tW(to*a)/tW(ts-to*a))/3))),t=e4(l*t*3),[255*t,255*(r=e4(l*r*3)),255*(n=e4(l*n*3)),e.length>3?e[3]:1]},td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"hsi"))&&3===e.length)return"hsi"}}),tL.hsi=(e,t,r)=>tH(e,t,r,"hsi");let t0=(...e)=>{let t,r,n,[a,i,l]=e=te(e,"hsl");if(0===i)t=r=n=255*l;else{let e=[0,0,0],o=[0,0,0],s=l<.5?l*(1+i):l+i-l*i,c=2*l-s,u=a/360;e[0]=u+1/3,e[1]=u,e[2]=u-1/3;for(let t=0;t<3;t++)e[t]<0&&(e[t]+=1),e[t]>1&&(e[t]-=1),6*e[t]<1?o[t]=c+(s-c)*6*e[t]:2*e[t]<1?o[t]=s:3*e[t]<2?o[t]=c+(s-c)*(2/3-e[t])*6:o[t]=c;[t,r,n]=[255*o[0],255*o[1],255*o[2]]}return e.length>3?[t,r,n,e[3]]:[t,r,n,1]},t1=(...e)=>{let t,r,[n,a,i]=e=te(e,"rgba"),l=tn(n/=255,a/=255,i/=255),o=ta(n,a,i),s=(o+l)/2;return(o===l?(t=0,r=NaN):t=s<.5?(o-l)/(o+l):(o-l)/(2-o-l),n==o?r=(a-i)/(o-l):a==o?r=2+(i-n)/(o-l):i==o&&(r=4+(n-a)/(o-l)),(r*=60)<0&&(r+=360),e.length>3&&void 0!==e[3])?[r,t,s,e[3]]:[r,t,s]};tp.prototype.hsl=function(){return t1(this._rgb)},th.hsl=(...e)=>new tp(...e,"hsl"),td.format.hsl=t0,td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"hsl"))&&3===e.length)return"hsl"}}),tL.hsl=(e,t,r)=>tH(e,t,r,"hsl");let{floor:t2}=Math,{min:t5,max:t3}=Math;function t6(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(e=>[e]));let n=t[0].length,a=t[0].map((e,r)=>t.map(e=>e[r])),i=e.map(e=>a.map(t=>Array.isArray(e)?e.reduce((e,r,n)=>e+r*(t[n]||0),0):t.reduce((t,r)=>t+r*e,0)));return(1===r&&(i=i[0]),1===n)?i.map(e=>e[0]):i}tp.prototype.hsv=function(){return((...e)=>{let t,r,[n,a,i]=e=te(e,"rgb"),l=t5(n,a,i),o=t3(n,a,i),s=o-l;return 0===o?(t=NaN,r=0):(r=s/o,n===o&&(t=(a-i)/s),a===o&&(t=2+(i-n)/s),i===o&&(t=4+(n-a)/s),(t*=60)<0&&(t+=360)),[t,r,o/255]})(this._rgb)},th.hsv=(...e)=>new tp(...e,"hsv"),td.format.hsv=(...e)=>{let t,r,n,[a,i,l]=e=te(e,"hsv");if(l*=255,0===i)t=r=n=l;else{360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360);let e=t2(a/=60),o=a-e,s=l*(1-i),c=l*(1-i*o),u=l*(1-i*(1-o));switch(e){case 0:[t,r,n]=[l,u,s];break;case 1:[t,r,n]=[c,l,s];break;case 2:[t,r,n]=[s,l,u];break;case 3:[t,r,n]=[s,c,l];break;case 4:[t,r,n]=[u,s,l];break;case 5:[t,r,n]=[l,s,c]}}return[t,r,n,e.length>3?e[3]:1]},td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"hsv"))&&3===e.length)return"hsv"}}),tL.hsv=(e,t,r)=>tH(e,t,r,"hsv");let t4=(...e)=>{var t;let[r,n,a,...i]=e=te(e,"lab"),[l,o,s]=(t=t6([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],[r,n,a]),t6([[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t.map(e=>e**3))),[c,u,f]=tN(l,o,s);return[c,u,f,...i.length>0&&i[0]<1?[i[0]]:[]]},t8=(...e)=>{let t,[r,n,a,...i]=te(e,"rgb");return[...(t=t6([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],tC(r,n,a)),t6([[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],t.map(e=>Math.cbrt(e)))),...i.length>0&&i[0]<1?[i[0]]:[]]};tp.prototype.oklab=function(){return t8(this._rgb)},Object.assign(th,{oklab:(...e)=>new tp(...e,"oklab")}),td.format.oklab=t4,td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"oklab"))&&3===e.length)return"oklab"}}),tL.oklab=(e,t,r)=>{let n=e.oklab(),a=t.oklab();return new tp(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"oklab")},tL.oklch=(e,t,r)=>tH(e,t,r,"oklch");let{pow:t9,sqrt:t7,PI:re,cos:rt,sin:rr,atan2:rn}=Math,{pow:ra}=Math;function ri(e){let t="rgb",r=th("#ccc"),n=0,a=[0,1],i=[0,1],l=[],o=[0,0],s=!1,c=[],u=!1,f=0,d=1,p=!1,h={},m=!0,b=1,g=function(e){if("string"===e7(e=e||["#fff","#000"])&&th.brewer&&th.brewer[e.toLowerCase()]&&(e=th.brewer[e.toLowerCase()]),"array"===e7(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(let t=0;t<e.length;t++)e[t]=th(e[t]);l.length=0;for(let t=0;t<e.length;t++)l.push(t/(e.length-1))}return w(),c=e},y=function(e){if(null!=s){let t=s.length-1,r=0;for(;r<t&&e>=s[r];)r++;return r-1}return 0},v=e=>e,x=e=>e,j=function(e,n){let a,i;if(null==n&&(n=!1),isNaN(e)||null===e)return r;i=n?e:s&&s.length>2?y(e)/(s.length-2):d!==f?(e-f)/(d-f):1,i=x(i),n||(i=v(i)),1!==b&&(i=ra(i,b));let u=Math.floor(1e4*(i=e4(i=o[0]+i*(1-o[0]-o[1]),0,1)));if(m&&h[u])a=h[u];else{if("array"===e7(c))for(let e=0;e<l.length;e++){let r=l[e];if(i<=r||i>=r&&e===l.length-1){a=c[e];break}if(i>r&&i<l[e+1]){i=(i-r)/(l[e+1]-r),a=th.interpolate(c[e],c[e+1],i,t);break}}else"function"===e7(c)&&(a=c(i));m&&(h[u]=a)}return a};var w=()=>h={};g(e);let k=function(e){let t=th(j(e));return u&&t[u]?t[u]():t};return k.classes=function(e){if(null!=e){if("array"===e7(e))s=e,a=[e[0],e[e.length-1]];else{let t=th.analyze(a);s=0===e?[t.min,t.max]:th.limits(t,"e",e)}return k}return s},k.domain=function(e){if(!arguments.length)return i;i=e.slice(0),f=e[0],d=e[e.length-1],l=[];let t=c.length;if(e.length===t&&f!==d)for(let t of Array.from(e))l.push((t-f)/(d-f));else{for(let e=0;e<t;e++)l.push(e/(t-1));if(e.length>2){let t=e.map((t,r)=>r/(e.length-1)),r=e.map(e=>(e-f)/(d-f));r.every((e,r)=>t[r]===e)||(x=e=>{if(e<=0||e>=1)return e;let n=0;for(;e>=r[n+1];)n++;let a=(e-r[n])/(r[n+1]-r[n]);return t[n]+a*(t[n+1]-t[n])})}}return a=[f,d],k},k.mode=function(e){return arguments.length?(t=e,w(),k):t},k.range=function(e,t){return g(e,t),k},k.out=function(e){return u=e,k},k.spread=function(e){return arguments.length?(n=e,k):n},k.correctLightness=function(e){return null==e&&(e=!0),p=e,w(),v=p?function(e){let t=j(0,!0).lab()[0],r=j(1,!0).lab()[0],n=t>r,a=j(e,!0).lab()[0],i=t+(r-t)*e,l=a-i,o=0,s=1,c=20;for(;Math.abs(l)>.01&&c-- >0;)n&&(l*=-1),l<0?(o=e,e+=(s-e)*.5):(s=e,e+=(o-e)*.5),l=(a=j(e,!0).lab()[0])-i;return e}:e=>e,k},k.padding=function(e){return null!=e?("number"===e7(e)&&(e=[e,e]),o=e,k):o},k.colors=function(t,r){arguments.length<2&&(r="hex");let n=[];if(0==arguments.length)n=c.slice(0);else if(1===t)n=[k(.5)];else if(t>1){let e=a[0],r=a[1]-e;n=(function(e,t,r){let n=[],a=0<t,i=r?a?t+1:t-1:t;for(let e=0;a?e<i:e>i;a?e++:e--)n.push(e);return n})(0,t,!1).map(n=>k(e+n/(t-1)*r))}else{e=[];let t=[];if(s&&s.length>2)for(let e=1,r=s.length,n=1<=r;n?e<r:e>r;n?e++:e--)t.push((s[e-1]+s[e])*.5);else t=a;n=t.map(e=>k(e))}return th[r]&&(n=n.map(e=>e[r]())),n},k.cache=function(e){return null!=e?(m=e,k):m},k.gamma=function(e){return null!=e?(b=e,k):b},k.nodata=function(e){return null!=e?(r=th(e),k):r},k}let rl=function(e){let t=[1,1];for(let r=1;r<e;r++){let e=[1];for(let r=1;r<=t.length;r++)e[r]=(t[r]||0)+t[r-1];t=e}return t},ro=function(e){let t,r,n,a;if(2===(e=e.map(e=>new tp(e))).length)[r,n]=e.map(e=>e.lab()),t=function(e){return new tp([0,1,2].map(t=>r[t]+e*(n[t]-r[t])),"lab")};else if(3===e.length)[r,n,a]=e.map(e=>e.lab()),t=function(e){return new tp([0,1,2].map(t=>(1-e)*(1-e)*r[t]+2*(1-e)*e*n[t]+e*e*a[t]),"lab")};else if(4===e.length){let i;[r,n,a,i]=e.map(e=>e.lab()),t=function(e){return new tp([0,1,2].map(t=>(1-e)*(1-e)*(1-e)*r[t]+3*(1-e)*(1-e)*e*n[t]+3*(1-e)*e*e*a[t]+e*e*e*i[t]),"lab")}}else if(e.length>=5){let r,n,a;r=e.map(e=>e.lab()),n=rl(a=e.length-1),t=function(e){let t=1-e;return new tp([0,1,2].map(i=>r.reduce((r,l,o)=>r+n[o]*t**(a-o)*e**o*l[i],0)),"lab")}}else throw RangeError("No point in running bezier with only one color.");return t},{round:rs}=Math;tp.prototype.rgb=function(e=!0){return!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(rs)},tp.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?!1===e?t:rs(t):t)},Object.assign(th,{rgb:(...e)=>new tp(...e,"rgb")}),td.format.rgb=(...e)=>{let t=te(e,"rgba");return void 0===t[3]&&(t[3]=1),t},td.autodetect.push({p:3,test:(...e)=>{if("array"===e7(e=te(e,"rgba"))&&(3===e.length||4===e.length&&"number"==e7(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});let rc=(e,t,r)=>{if(!rc[r])throw Error("unknown blend mode "+r);return rc[r](e,t)},ru=e=>(t,r)=>{let n=th(r).rgb(),a=th(t).rgb();return th.rgb(e(n,a))},rf=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n};rc.normal=ru(rf(e=>e)),rc.multiply=ru(rf((e,t)=>e*t/255)),rc.screen=ru(rf((e,t)=>255*(1-(1-e/255)*(1-t/255)))),rc.overlay=ru(rf((e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)))),rc.darken=ru(rf((e,t)=>e>t?t:e)),rc.lighten=ru(rf((e,t)=>e>t?e:t)),rc.dodge=ru(rf((e,t)=>255===e||(e=t/255*255/(1-e/255))>255?255:e)),rc.burn=ru(rf((e,t)=>255*(1-(1-t/255)/(e/255))));let{pow:rd,sin:rp,cos:rh}=Math,{floor:rm,random:rb}=Math,{log:rg,pow:ry,floor:rv,abs:rx}=Math;function rj(e,t=null){let r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===e7(e)&&(e=Object.values(e)),e.forEach(e=>{t&&"object"===e7(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(e,t)=>rw(r,e,t),r}function rw(e,t="equal",r=7){"array"==e7(e)&&(e=rj(e));let{min:n,max:a}=e,i=e.values.sort((e,t)=>e-t);if(1===r)return[n,a];let l=[];if("c"===t.substr(0,1)&&(l.push(n),l.push(a)),"e"===t.substr(0,1)){l.push(n);for(let e=1;e<r;e++)l.push(n+e/r*(a-n));l.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw Error("Logarithmic scales are only possible for values > 0");let e=Math.LOG10E*rg(n),t=Math.LOG10E*rg(a);l.push(n);for(let n=1;n<r;n++)l.push(ry(10,e+n/r*(t-e)));l.push(a)}else if("q"===t.substr(0,1)){l.push(n);for(let e=1;e<r;e++){let t=(i.length-1)*e/r,n=rv(t);if(n===t)l.push(i[n]);else{let e=t-n;l.push(i[n]*(1-e)+i[n+1]*e)}}l.push(a)}else if("k"===t.substr(0,1)){let e,t=i.length,o=Array(t),s=Array(r),c=!0,u=0,f=null;(f=[]).push(n);for(let e=1;e<r;e++)f.push(n+e/r*(a-n));for(f.push(a);c;){for(let e=0;e<r;e++)s[e]=0;for(let e=0;e<t;e++){let t,n=i[e],a=Number.MAX_VALUE;for(let i=0;i<r;i++){let r=rx(f[i]-n);r<a&&(a=r,t=i),s[t]++,o[e]=t}}let n=Array(r);for(let e=0;e<r;e++)n[e]=null;for(let r=0;r<t;r++)null===n[e=o[r]]?n[e]=i[r]:n[e]+=i[r];for(let e=0;e<r;e++)n[e]*=1/s[e];c=!1;for(let e=0;e<r;e++)if(n[e]!==f[e]){c=!0;break}f=n,++u>200&&(c=!1)}let d={};for(let e=0;e<r;e++)d[e]=[];for(let r=0;r<t;r++)d[e=o[r]].push(i[r]);let p=[];for(let e=0;e<r;e++)p.push(d[e][0]),p.push(d[e][d[e].length-1]);p=p.sort((e,t)=>e-t),l.push(p[0]);for(let e=1;e<p.length;e+=2){let t=p[e];isNaN(t)||-1!==l.indexOf(t)||l.push(t)}}return l}function rk(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}let{sqrt:rO,pow:rA,min:rN,max:rP,atan2:r_,abs:rC,cos:rE,sin:rS,exp:rM,PI:rT}=Math,rL={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},rR=Object.keys(rL),rI=new Map(rR.map(e=>[e.toLowerCase(),e])),rD="function"==typeof Proxy?new Proxy(rL,{get(e,t){let r=t.toLowerCase();if(rI.has(r))return e[rI.get(r)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(rR)}):rL,{max:r$}=Math;tp.prototype.cmyk=function(){return((...e)=>{let[t,r,n]=te(e,"rgb"),a=1-r$(t/=255,r$(r/=255,n/=255)),i=a<1?1/(1-a):0;return[(1-t-a)*i,(1-r-a)*i,(1-n-a)*i,a]})(this._rgb)},Object.assign(th,{cmyk:(...e)=>new tp(...e,"cmyk")}),td.format.cmyk=(...e)=>{let[t,r,n,a]=e=te(e,"cmyk"),i=e.length>4?e[4]:1;return 1===a?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-a),r>=1?0:255*(1-r)*(1-a),n>=1?0:255*(1-n)*(1-a),i]},td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"cmyk"))&&4===e.length)return"cmyk"}});let rB=(...e)=>{let[t,r,n,...a]=te(e,"rgb"),[i,l,o]=t8(t,r,n),[s,c,u]=tG(i,l,o);return[s,c,u,...a.length>0&&a[0]<1?[a[0]]:[]]},{round:rK}=Math,rF=(...e)=>{let[t,r,n,...a]=e=te(e,"lch"),[i,l,o]=t$(t,r,n),[s,c,u]=t4(i,l,o);return[s,c,u,...a.length>0&&a[0]<1?[a[0]]:[]]},rV=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,rG=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,rq=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,rz=/\s*/.source,rY=/\s+/.source,rH=/\s*,\s*/.source,rX=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,rZ=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,rW=RegExp("^rgba?\\("+rz+[rV,rV,rV].join(rY)+rZ+"\\)$"),rU=RegExp("^rgb\\("+rz+[rV,rV,rV].join(rH)+rz+"\\)$"),rJ=RegExp("^rgba\\("+rz+[rV,rV,rV,rG].join(rH)+rz+"\\)$"),rQ=RegExp("^hsla?\\("+rz+[rX,rq,rq].join(rY)+rZ+"\\)$"),r0=RegExp("^hsl?\\("+rz+[rX,rq,rq].join(rH)+rz+"\\)$"),r1=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,r2=RegExp("^lab\\("+rz+[rG,rG,rG].join(rY)+rZ+"\\)$"),r5=RegExp("^lch\\("+rz+[rG,rG,rX].join(rY)+rZ+"\\)$"),r3=RegExp("^oklab\\("+rz+[rG,rG,rG].join(rY)+rZ+"\\)$"),r6=RegExp("^oklch\\("+rz+[rG,rG,rX].join(rY)+rZ+"\\)$"),{round:r4}=Math,r8=e=>e.map((e,t)=>t<=2?e4(r4(e),0,255):e),r9=(e,t=0,r=100,n=!1)=>("string"==typeof e&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,e=n?t+(e+1)*.5*(r-t):t+e*(r-t)),+e),r7=(e,t)=>"none"===e?t:e,ne=e=>{let t;if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];if(td.format.named)try{return td.format.named(e)}catch(e){}if((t=e.match(rW))||(t=e.match(rU))){let e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=+r9(r7(e[t],0),0,255);e=r8(e);let r=void 0!==t[4]?+r9(t[4],0,1):1;return e[3]=r,e}if(t=e.match(rJ)){let e=t.slice(1,5);for(let t=0;t<4;t++)e[t]=+r9(e[t],0,255);return e}if((t=e.match(rQ))||(t=e.match(r0))){let e=t.slice(1,4);e[0]=+r7(e[0].replace("deg",""),0),e[1]=.01*r9(r7(e[1],0),0,100),e[2]=.01*r9(r7(e[2],0),0,100);let r=r8(t0(e)),n=void 0!==t[4]?+r9(t[4],0,1):1;return r[3]=n,r}if(t=e.match(r1)){let e=t.slice(1,4);e[1]*=.01,e[2]*=.01;let r=t0(e);for(let e=0;e<3;e++)r[e]=r4(r[e]);return r[3]=+t[4],r}if(t=e.match(r2)){let e=t.slice(1,4);e[0]=r9(r7(e[0],0),0,100),e[1]=r9(r7(e[1],0),-125,125,!0),e[2]=r9(r7(e[2],0),-125,125,!0);let r=tO();tk("d50");let n=r8(tP(e));tk(r);let a=void 0!==t[4]?+r9(t[4],0,1):1;return n[3]=a,n}if(t=e.match(r5)){let e=t.slice(1,4);e[0]=r9(e[0],0,100),e[1]=r9(r7(e[1],0),0,150,!1),e[2]=+r7(e[2].replace("deg",""),0);let r=tO();tk("d50");let n=r8(tB(e));tk(r);let a=void 0!==t[4]?+r9(t[4],0,1):1;return n[3]=a,n}if(t=e.match(r3)){let e=t.slice(1,4);e[0]=r9(r7(e[0],0),0,1),e[1]=r9(r7(e[1],0),-.4,.4,!0),e[2]=r9(r7(e[2],0),-.4,.4,!0);let r=r8(t4(e)),n=void 0!==t[4]?+r9(t[4],0,1):1;return r[3]=n,r}if(t=e.match(r6)){let e=t.slice(1,4);e[0]=r9(r7(e[0],0),0,1),e[1]=r9(r7(e[1],0),0,.4,!1),e[2]=+r7(e[2].replace("deg",""),0);let r=r8(rF(e)),n=void 0!==t[4]?+r9(t[4],0,1):1;return r[3]=n,r}};ne.test=e=>rW.test(e)||rQ.test(e)||r2.test(e)||r5.test(e)||r3.test(e)||r6.test(e)||rU.test(e)||rJ.test(e)||r0.test(e)||r1.test(e)||"transparent"===e,tp.prototype.css=function(e){return((...e)=>{let t=te(e,"rgba"),r=tt(e)||"rgb";if("hsl"===r.substr(0,3))return((...e)=>{let t=te(e,"hsla"),r=tt(e)||"lsa";return t[0]=ti(t[0]||0)+"deg",t[1]=ti(100*t[1])+"%",t[2]=ti(100*t[2])+"%","hsla"===r||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`})(t1(t),r);if("lab"===r.substr(0,3)){let e=tO();tk("d50");let n=((...e)=>{let t=te(e,"lab"),r=tt(e)||"lab";return t[0]=ti(t[0])+"%",t[1]=ti(t[1]),t[2]=ti(t[2]),"laba"===r||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`})(tE(t),r);return tk(e),n}if("lch"===r.substr(0,3)){let e=tO();tk("d50");let n=((...e)=>{let t=te(e,"lch"),r=tt(e)||"lab";return t[0]=ti(t[0])+"%",t[1]=ti(t[1]),t[2]=isNaN(t[2])?"none":ti(t[2])+"deg","lcha"===r||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`})(tq(t),r);return tk(e),n}return"oklab"===r.substr(0,5)?((...e)=>{let t=te(e,"lab");return t[0]=ti(100*t[0])+"%",t[1]=tl(t[1]),t[2]=tl(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`})(t8(t)):"oklch"===r.substr(0,5)?((...e)=>{let t=te(e,"lch");return t[0]=ti(100*t[0])+"%",t[1]=tl(t[1]),t[2]=isNaN(t[2])?"none":ti(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`})(rB(t)):(t[0]=rK(t[0]),t[1]=rK(t[1]),t[2]=rK(t[2]),("rgba"===r||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,"rgb"===r?3:4).join(" ")})`)})(this._rgb,e)},th.css=(...e)=>new tp(...e,"css"),td.format.css=ne,td.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===e7(e)&&ne.test(e))return"css"}}),td.format.gl=(...e)=>{let t=te(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},th.gl=(...e)=>new tp(...e,"gl"),tp.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]},tp.prototype.hex=function(e){return tx(this._rgb,e)},th.hex=(...e)=>new tp(...e,"hex"),td.format.hex=ty,td.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&"string"===e7(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});let{log:nt}=Math,nr=e=>{let t,r,n,a=e/100;return a<66?(t=255,r=a<6?0:-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*nt(r),n=a<20?0:-254.76935184120902+.8274096064007395*(n=a-10)+115.67994401066147*nt(n)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*nt(t),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*nt(r),n=255),[t,r,n,1]},{round:nn}=Math;tp.prototype.temp=tp.prototype.kelvin=tp.prototype.temperature=function(){return((...e)=>{let t,r=te(e,"rgb"),n=r[0],a=r[2],i=1e3,l=4e4;for(;l-i>.4;){let e=nr(t=(l+i)*.5);e[2]/e[0]>=a/n?l=t:i=t}return nn(t)})(this._rgb)};let na=(...e)=>new tp(...e,"temp");function ni({payout:e}){let n,a,l,o,s=e.players.toSorted((e,t)=>t.net-e.net),c=s[s.length-1].net,u=s[0].net,f=(a=(n=window.getComputedStyle(document.documentElement)).getPropertyValue("--color-success").trim(),l=n.getPropertyValue("--color-destructive").trim(),o=n.getPropertyValue("--muted-foreground").trim(),th.scale([a,o,l]).mode("lrgb").domain([c,0,u]).colors(u+Math.abs(c)+1).toReversed()),d=s.map(e=>({name:e.displayName,cashIn:e.cashIn,cashOut:e.cashOut,fill:f[Math.floor(e.net+Math.abs(c))]})),p=Object.fromEntries(d.map(e=>[e.name,{label:e.name}])),h=(0,r.useMemo)(()=>d.reduce((e,t)=>e+t.cashOut,0),[d]);return(0,t.jsx)(I,{config:p,className:"m-auto mx-auto aspect-6/5 h-[250px]",children:(0,t.jsxs)(e5,{children:[(0,t.jsx)($,{cursor:!1,content:(0,t.jsx)(B,{indicator:"line",labelFormatter:(e,t)=>{switch(t[0].dataKey){case"cashOut":return"Cash Out";case"cashIn":return"Cash In";default:return"Cash In/Out"}}})}),(0,t.jsx)(eg,{data:d.filter(e=>0!==e.cashOut),dataKey:"cashOut",nameKey:"name",outerRadius:100,innerRadius:90,strokeWidth:1,paddingAngle:5,children:(0,t.jsx)(V.LabelList,{dataKey:"name",position:"outside",offset:8,className:"fill-foreground",stroke:"none"})}),(0,t.jsx)(eg,{data:d.filter(e=>0!==e.cashIn),dataKey:"cashIn",nameKey:"name",outerRadius:80,innerRadius:h<100?50:h<1e3?60:63.5,paddingAngle:5,children:1e-9>Math.abs(e.slippage)&&(0,t.jsx)(F.Label,{content:({viewBox:e})=>{if(e&&"cx"in e&&"cy"in e)return(0,t.jsxs)("text",{x:e.cx,y:e.cy,textAnchor:"middle",dominantBaseline:"middle",children:[(0,t.jsx)("tspan",{x:e.cx,y:e.cy,className:"fill-foreground text-3xl font-bold",children:(0,i.formatDollar)(Math.floor(h))}),(0,t.jsx)("tspan",{x:e.cx,y:(e.cy||0)+24,className:"fill-muted-foreground",children:"Total Pot"})]})}})})]})})}Object.assign(th,{temp:na,kelvin:na,temperature:na}),td.format.temp=td.format.kelvin=td.format.temperature=nr,tp.prototype.oklch=function(){return rB(this._rgb)},Object.assign(th,{oklch:(...e)=>new tp(...e,"oklch")}),td.format.oklch=rF,td.autodetect.push({p:2,test:(...e)=>{if("array"===e7(e=te(e,"oklch"))&&3===e.length)return"oklch"}}),Object.assign(th,{analyze:rj,average:(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(Array(n)).map(()=>1));let a=n/r.reduce(function(e,t){return e+t});if(r.forEach((e,t)=>{r[t]*=a}),e=e.map(e=>new tp(e)),"lrgb"===t)return((e,t)=>{let r=e.length,n=[0,0,0,0];for(let a=0;a<e.length;a++){let i=e[a],l=t[a]/r,o=i._rgb;n[0]+=t9(o[0],2)*l,n[1]+=t9(o[1],2)*l,n[2]+=t9(o[2],2)*l,n[3]+=o[3]*l}return n[0]=t7(n[0]),n[1]=t7(n[1]),n[2]=t7(n[2]),n[3]>.9999999&&(n[3]=1),new tp(e8(n))})(e,r);let i=e.shift(),l=i.get(t),o=[],s=0,c=0;for(let e=0;e<l.length;e++)if(l[e]=(l[e]||0)*r[0],o.push(isNaN(l[e])?0:r[0]),"h"===t.charAt(e)&&!isNaN(l[e])){let t=l[e]/180*re;s+=rt(t)*r[0],c+=rr(t)*r[0]}let u=i.alpha()*r[0];e.forEach((e,n)=>{let a=e.get(t);u+=e.alpha()*r[n+1];for(let e=0;e<l.length;e++)if(!isNaN(a[e]))if(o[e]+=r[n+1],"h"===t.charAt(e)){let t=a[e]/180*re;s+=rt(t)*r[n+1],c+=rr(t)*r[n+1]}else l[e]+=a[e]*r[n+1]});for(let e=0;e<l.length;e++)if("h"===t.charAt(e)){let t=rn(c/o[e],s/o[e])/re*180;for(;t<0;)t+=360;for(;t>=360;)t-=360;l[e]=t}else l[e]=l[e]/o[e];return u/=n,new tp(l,t).alpha(u>.99999?1:u,!0)},bezier:e=>{let t=ro(e);return t.scale=()=>ri(t),t},blend:rc,brewer:rD,Color:tp,colors:tm,contrast:(e,t)=>{e=new tp(e),t=new tp(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},contrastAPCA:(e,t)=>{e=new tp(e),t=new tp(t),1>e.alpha()&&(e=tR(t,e,e.alpha(),"rgb"));let r=rk(...e.rgb()),n=rk(...t.rgb()),a=r>=.022?r:r+Math.pow(.022-r,1.414),i=n>=.022?n:n+Math.pow(.022-n,1.414),l=Math.pow(i,.56)-Math.pow(a,.57),o=Math.pow(i,.65)-Math.pow(a,.62),s=5e-4>Math.abs(i-a)?0:a<i?1.14*l:1.14*o;return 100*(.1>Math.abs(s)?0:s>0?s-.027:s+.027)},cubehelix:function(e=300,t=-1.5,r=1,n=1,a=[0,1]){let i=0,l;"array"===e7(a)?l=a[1]-a[0]:(l=0,a=[a,a]);let o=function(o){let s=to*((e+120)/360+t*o),c=rd(a[0]+l*o,n),u=(0!==i?r[0]+o*i:r)*c*(1-c)/2,f=rh(s),d=rp(s);return th(e8([255*(c+u*(-.14861*f+1.78277*d)),255*(c+u*(-.29227*f-.90649*d)),255*(c+1.97294*f*u),1]))};return o.start=function(t){return null==t?e:(e=t,o)},o.rotations=function(e){return null==e?t:(t=e,o)},o.gamma=function(e){return null==e?n:(n=e,o)},o.hue=function(e){return null==e?r:("array"===e7(r=e)?0==(i=r[1]-r[0])&&(r=r[1]):i=0,o)},o.lightness=function(e){return null==e?a:("array"===e7(e)?(a=e,l=e[1]-e[0]):(a=[e,e],l=0),o)},o.scale=()=>th.scale(o),o.hue(r),o},deltaE:function(e,t,r=1,n=1,a=1){var i=function(e){return 360*e/(2*rT)},l=function(e){return 2*rT*e/360};e=new tp(e),t=new tp(t);let[o,s,c]=Array.from(e.lab()),[u,f,d]=Array.from(t.lab()),p=(o+u)/2,h=(rO(rA(s,2)+rA(c,2))+rO(rA(f,2)+rA(d,2)))/2,m=.5*(1-rO(rA(h,7)/(rA(h,7)+rA(25,7)))),b=s*(1+m),g=f*(1+m),y=rO(rA(b,2)+rA(c,2)),v=rO(rA(g,2)+rA(d,2)),x=(y+v)/2,j=i(r_(c,b)),w=i(r_(d,g)),k=j>=0?j:j+360,O=w>=0?w:w+360,A=rC(k-O)>180?(k+O+360)/2:(k+O)/2,N=1-.17*rE(l(A-30))+.24*rE(l(2*A))+.32*rE(l(3*A+6))-.2*rE(l(4*A-63)),P=O-k;P=180>=rC(P)?P:O<=k?P+360:P-360,P=2*rO(y*v)*rS(l(P)/2);let _=v-y,C=1+.015*rA(p-50,2)/rO(20+rA(p-50,2)),E=1+.045*x,S=1+.015*x*N,M=30*rM(-rA((A-275)/25,2)),T=-(2*rO(rA(x,7)/(rA(x,7)+rA(25,7))))*rS(2*l(M));return rP(0,rN(100,rO(rA((u-o)/(r*C),2)+rA(_/(n*E),2)+rA(P/(a*S),2)+_/(n*E)*T*(P/(a*S)))))},distance:function(e,t,r="lab"){e=new tp(e),t=new tp(t);let n=e.get(r),a=t.get(r),i=0;for(let e in n){let t=(n[e]||0)-(a[e]||0);i+=t*t}return Math.sqrt(i)},input:td,interpolate:tR,limits:rw,mix:tR,random:(e=rb)=>{let t="#";for(let r=0;r<6;r++)t+="0123456789abcdef".charAt(rm(16*e()));return new tp(t,"hex")},scale:ri,scales:{cool:()=>ri([th.hsl(180,1,.9),th.hsl(250,.7,.4)]),hot:()=>ri(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},valid:(...e)=>{try{return new tp(...e),!0}catch(e){return!1}}});var nl=e.i(75225),no=e.i(85183),ns=e.i(93230),nc=e.i(44171),nu=(0,ey.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:nl.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:no.XAxis},{axisType:"yAxis",AxisComp:ns.YAxis}],formatAxisMap:nc.formatAxisMap}),nf=e.i(72526);function nd({players:e}){return(0,t.jsx)(I,{config:{net:{label:"Net"}},className:"h-full max-h-[500px] min-h-[10px] w-full",children:(0,t.jsxs)(nu,{accessibilityLayer:!0,data:e.map(e=>({...e,fill:e.net>1e-9?"var(--success)":e.net<-1e-9?"var(--destructive)":"var(--muted-foreground)"})),children:[(0,t.jsx)(nf.CartesianGrid,{vertical:!1}),(0,t.jsx)($,{cursor:!1,content:(0,t.jsx)(B,{indicator:"line",labelFormatter:(e,t)=>t[0].payload.displayName})}),(0,t.jsxs)(nl.Bar,{dataKey:"net",children:[(0,t.jsx)(V.LabelList,{position:"bottom",dataKey:"displayName",fillOpacity:1}),(0,t.jsx)(V.LabelList,{position:"top",dataKey:"net",fillOpacity:1,formatter:e=>(0,i.formatDollar)(e)}),e.map(e=>(0,t.jsx)(J.Cell,{},e.name))]})]})})}function np({payout:e}){let r={...e,players:[...e.players].sort((e,t)=>e.name.localeCompare(t.name))};return(0,t.jsxs)("div",{className:"space-y-5",children:[Math.abs(r.slippage)>1e-9&&(0,t.jsx)(E,{payout:r}),(0,t.jsx)(l.Card,{className:"bg-secondary",children:(0,t.jsxs)(l.CardContent,{className:"flex w-full flex-col justify-around gap-5 md:flex-row",children:[(0,t.jsx)(ni,{payout:r}),(0,t.jsx)(nd,{players:r.players})]})}),(0,t.jsx)("div",{className:"grid gap-5 md:grid-cols-2",children:r.players.map(e=>(0,t.jsx)(_,{player:e,slippage:r.slippage/r.players.length},e.name))})]})}var nh=e.i(31278);let nm=(0,p.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nb=(0,p.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ng=(0,p.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var ny=e.i(46696);function nv({game:e,initialPlayers:c,currentUserId:u,isHost:f}){let d=(0,n.useRouter)(),[p,h]=(0,r.useState)(c),[m,b]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),v=p.filter(e=>"approved"===e.status),x=p.filter(e=>"pending"===e.status),j=(0,r.useMemo)(()=>{if(v.length<2)return null;let t=new Set;return{description:e.description||void 0,players:v.map(e=>({name:(e=>{let r=e.venmo_handle?`@${e.venmo_handle}`:e.display_name||`Player_${e.user_id.slice(0,8)}`,n=r,a=0;for(;t.has(n);)n=`${r}_${++a}`;return t.add(n),n})(e),cashIn:e.cash_in,cashOut:e.cash_out}))}},[v,e.description]),w=(0,r.useMemo)(()=>j?(0,i.calcPayouts)(j):null,[j]);async function k(e,t,r,n){b(t);let i=(0,a.createClient)();await i.from("game_players").update({cash_in:r,cash_out:n}).eq("game_id",e).eq("user_id",t),h(e=>e.map(e=>e.user_id===t?{...e,cash_in:r,cash_out:n}:e)),b(null)}async function O(e,t,r){b(t);let n=(0,a.createClient)();await n.from("game_players").update({status:r}).eq("game_id",e).eq("user_id",t),h(e=>e.map(e=>e.user_id===t?{...e,status:r}:e)),b(null)}async function A(){if(!w||!j||v.length<2)return;y(!0);let t=new Map;j.players.forEach((e,r)=>{t.set(e.name,v[r].user_id)});let r=w.players.map(e=>({user_id:t.get(e.name),profit_delta:e.net})).filter(e=>e.user_id);if(r.length!==w.players.length){ny.toast.error("Could not map players to users"),y(!1);return}let n=(0,a.createClient)(),{error:i}=await n.rpc("end_game",{p_game_id:e.id,p_profit_deltas:r});if(i){ny.toast.error(i.message),y(!1);return}ny.toast.success("Game ended. Profits updated."),d.push("/dashboard"),d.refresh()}return"ended"===e.status?(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"This game has ended."}),(0,t.jsx)(o.Button,{asChild:!0,className:"mt-2",children:(0,t.jsx)("a",{href:"/dashboard",children:"Back to dashboard"})})]})}):(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.CardTitle,{children:e.description||"Game"}),(0,t.jsxs)(l.CardDescription,{children:["Game ID: ",(0,t.jsx)("span",{className:"font-mono",children:e.short_code}),"  share so others can join"]})]}),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:function(){let t=`${window.location.origin}/game/${e.id}`;navigator.clipboard.writeText(`${t}  Game ID: ${e.short_code}`),ny.toast.success("Link copied")},children:[(0,t.jsx)(ng,{className:"mr-1 h-4 w-4"}),"Copy link"]})]})}),x.length>0&&f&&(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Pending approval"}),(0,t.jsx)(l.CardDescription,{children:"Approve or deny players to join the game"})]}),(0,t.jsx)(l.CardContent,{className:"space-y-2",children:x.map(r=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded border px-3 py-2",children:[(0,t.jsx)("span",{children:r.display_name||r.user_id.slice(0,8)}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(o.Button,{size:"sm",variant:"default",disabled:m===r.user_id,onClick:()=>O(e.id,r.user_id,"approved"),children:[m===r.user_id?(0,t.jsx)(nh.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(nm,{className:"h-4 w-4"}),"Approve"]}),(0,t.jsxs)(o.Button,{size:"sm",variant:"destructive",disabled:m===r.user_id,onClick:()=>O(e.id,r.user_id,"denied"),children:[(0,t.jsx)(nb,{className:"h-4 w-4"}),"Deny"]})]})]},r.user_id))})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsx)(l.CardTitle,{children:"Players & amounts"}),(0,t.jsx)(l.CardDescription,{children:"Cash in / out per player (editable by host or self if approved)"})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:p.map(r=>(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded border p-2",children:[(0,t.jsxs)("span",{className:"min-w-[120px] font-medium",children:[r.display_name||r.user_id.slice(0,8),"pending"===r.status&&(0,t.jsx)("span",{className:"text-muted-foreground ml-1 text-sm",children:"(pending)"}),"denied"===r.status&&(0,t.jsx)("span",{className:"text-muted-foreground ml-1 text-sm",children:"(denied)"})]}),"approved"===r.status&&(f||r.user_id===u)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Input,{type:"number",className:"w-24",placeholder:"In",value:r.cash_in??"",onChange:e=>{let t=parseFloat(e.target.value)||0;h(e=>e.map(e=>e.user_id===r.user_id?{...e,cash_in:t}:e))},onBlur:t=>{let n=parseFloat(t.target.value)||0;k(e.id,r.user_id,n,r.cash_out)}}),(0,t.jsx)(s.Input,{type:"number",className:"w-24",placeholder:"Out",value:r.cash_out??"",onChange:e=>{let t=parseFloat(e.target.value)||0;h(e=>e.map(e=>e.user_id===r.user_id?{...e,cash_out:t}:e))},onBlur:t=>{let n=parseFloat(t.target.value)||0;k(e.id,r.user_id,r.cash_in,n)}})]}),"approved"===r.status&&!f&&r.user_id!==u&&(0,t.jsxs)("span",{className:"text-muted-foreground text-sm",children:["In: ",r.cash_in," / Out: ",r.cash_out]})]},r.user_id))})})]}),w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Payout summary"}),(0,t.jsx)(np,{payout:w})]}),f&&v.length>=2&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.Button,{onClick:A,disabled:g,children:[g&&(0,t.jsx)(nh.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"End game"]})})]})}e.s(["GameSession",()=>nv],42142)}]);